jQuery(function(o){o.fn.dependency=function(t,e,n,_){var i=o(this);i.on("change",function(){var c=e(i);o.each(t,function(t,e){var n,e=o(e);!e.length||(n=e.closest("tr")).length&&(c?n.show().fadeTo("slow",1):n.is(":visible")?n.fadeTo("slow",0,function(){n.hide()}):n.css("opacity",0).hide())}),void 0!==n&&n(i,_)}).change()};var e=function(t){return t.is(":checked")},n=(o("#yith_wcwl_disable_wishlist_for_unauthenticated_users"),o("#yith_wcwl_multi_wishlist_enable")),c=o("#yith_wcwl_enable_multi_wishlist_for_unauthenticated_users"),_=o("#yith_wcwl_modal_enable"),t=o("#yith_wcwl_loop_position"),i=o(".icon-select"),a=o('[name="yith_wcwl_add_to_cart_style"]'),s=o("#yith_wcwl_add_to_cart_icon"),l=o('[name="yith_wcwl_ask_an_estimate_style"]'),w=o("#yith_wcwl_ask_an_estimate_icon"),h=o("#yith_wcwl_enable_share"),u=o("#yith_wcwl_share_fb"),r=o("#yith_wcwl_fb_button_icon"),d=o("#yith_wcwl_share_twitter"),m=o("#yith_wcwl_tw_button_icon"),y=o("#yith_wcwl_share_pinterest"),g=o("#yith_wcwl_pr_button_icon"),f=o("#yith_wcwl_share_email"),p=o("#yith_wcwl_em_button_icon"),b=o("#yith_wcwl_share_whatsapp"),v=o("#yith_wcwl_wa_button_icon"),k=o("#yith_wcwl_show_estimate_button"),x=o("#yith_wcwl_show_additional_info_textarea"),T=o("#yith_wcwl_ask_an_estimate_fields"),j=o("#woocommerce_promotion_mail_settings\\[email_type\\]"),C=o("#woocommerce_yith_wcwl_back_in_stock_settings\\[enabled\\]"),D=o("#woocommerce_yith_wcwl_back_in_stock_settings\\[email_type\\]"),O=o("#woocommerce_yith_wcwl_on_sale_item_settings\\[enabled\\]"),P=o("#woocommerce_yith_wcwl_on_sale_item_settings\\[email_type\\]"),S=o('[id^="type_"]');t.add("select#yith_wcwl_button_position").on("change",function(){var t=o(this);"shortcode"===t.val()?t.parent().parent().next().find(".addon").show():t.parent().parent().next().find(".addon").hide()}).change(),S.on("change",function(){var t=o(this),e=t.val(),n=t.closest(".yith-toggle-content-row").next();"radio"===e||"select"===e?n.show().fadeTo("slow",1):n.is(":visible")?n.fadeTo("slow",0,function(){n.hide()}):n.css("opacity",0).hide()}).change(),a.on("change",function(){s.change()}),l.on("change",function(){w.change()}),i.each(function(){o(this).select2({templateResult:function(t){return t.id?o('<span><i class="option-icon fa '+t.element.value.toLowerCase()+'" ></i> '+t.text+"</span>"):t.text}})}),n.dependency(["#yith_wcwl_show_login_notice","#yith_wcwl_login_anchor_text"],function(){return e(n)&&"no"===(t=!(t=c).is('input[type="radio"]')?t.find('input[type="radio"]:checked'):t).val();var t}),_.dependency(["#yith_wcwl_show_exists_in_a_wishlist"],function(){var t="default"!==_.find(":checked").val();return t||o("#yith_wcwl_show_exists_in_a_wishlist").prop("checked",!0),t}),s.dependency(["#yith_wcwl_add_to_cart_custom_icon"],function(){return"custom"===s.val()&&"button_custom"===a.filter(":checked").val()}),w.dependency(["#yith_wcwl_ask_an_estimate_custom_icon"],function(){return"custom"===w.val()&&"button_custom"===l.filter(":checked").val()}),h.dependency(["#yith_wcwl_share_fb"],e,function(){u.change(),r.change(),d.change(),m.change(),y.change(),g.change(),f.change(),p.change(),b.change(),v.change()}),u.dependency(["#yith_wcwl_fb_button_icon","#yith_wcwl_color_fb_button_background"],function(){return e(u)&&e(h)},function(){r.change()}),r.dependency(["#yith_wcwl_fb_button_custom_icon"],function(){return e(u)&&e(h)&&"custom"===r.val()}),d.dependency(["#yith_wcwl_tw_button_icon","#yith_wcwl_color_tw_button_background"],function(){return e(d)&&e(h)},function(){m.change()}),m.dependency(["#yith_wcwl_tw_button_custom_icon"],function(){return e(d)&&e(h)&&"custom"===m.val()}),y.dependency(["#yith_wcwl_socials_image_url","#yith_wcwl_pr_button_icon","#yith_wcwl_color_pr_button_background"],function(){return e(y)&&e(h)},function(){g.change()}),g.dependency(["#yith_wcwl_pr_button_custom_icon"],function(){return e(y)&&e(h)&&"custom"===g.val()}),f.dependency(["#yith_wcwl_em_button_icon","#yith_wcwl_color_em_button_background"],function(){return e(f)&&e(h)},function(){p.change()}),p.dependency(["#yith_wcwl_em_button_custom_icon"],function(){return e(f)&&e(h)&&"custom"===p.val()}),b.dependency(["#yith_wcwl_wa_button_icon","#yith_wcwl_wa_button_custom_icon","#yith_wcwl_color_wa_button_background"],function(){return e(b)&&e(h)},function(){v.change()}),v.dependency(["#yith_wcwl_wa_button_custom_icon"],function(){return e(b)&&e(h)&&"custom"===v.val()}),d.add(y).dependency(["#yith_wcwl_socials_title","#yith_wcwl_socials_text"],function(){return(e(d)||e(y))&&e(h)}),k.dependency(["#yith_wcwl_show_additional_info_textarea"],e,function(){x.change()}),k.on("change",function(){x.change()}),x.dependency(["#yith_wcwl_additional_info_textarea_label"],function(){return e(k)&&e(x)}),x.on("change",function(){o(this).is(":checked")&&k.is(":checked")?T.removeClass("yith-disabled"):T.addClass("yith-disabled")}),j.dependency(["#woocommerce_promotion_mail_settings\\[content_html\\]"],function(){return"multipart"===j.val()||"html"===j.val()}),j.dependency(["#woocommerce_promotion_mail_settings\\[content_text\\]"],function(){return"multipart"===j.val()||"plain"===j.val()}),C.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[product_exclusions\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[category_exclusions\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[email_type\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[heading\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[subject\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[content_html\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[content_text\\]"],function(){return e(C)},function(){D.change()}),D.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[content_html\\]"],function(){return("multipart"===D.val()||"html"===D.val())&&e(C)}),D.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[content_text\\]"],function(){return("multipart"===D.val()||"plain"===D.val())&&e(C)}),O.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[product_exclusions\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[category_exclusions\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[email_type\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[heading\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[subject\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[content_html\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[content_text\\]"],function(){return e(O)},function(){P.change()}),P.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[content_html\\]"],function(){return("multipart"===P.val()||"html"===P.val())&&e(O)}),P.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[content_text\\]"],function(){return("multipart"===P.val()||"plain"===P.val())&&e(O)}),o(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0}),o(document).on("yith-add-box-button-toggle",function(){var e=o("#new_type"),n=o("#new_options").closest(".yith-add-box-row");e.on("change",function(){var t=e.val();"radio"===t||"select"===t?n.show().fadeTo("slow",1):n.is(":visible")?n.fadeTo("slow",0,function(){o(this).hide()}):n.css("opacity",0).hide()}).change()}),o(document).on("click",".toggle-settings",function(t){t.preventDefault(),o(this).closest(".yith-wcwl-row").toggleClass("active");t=o(this).data("target");o("#"+t).slideToggle()}),o(document).on("click",".yith-wcwl-row:not(.active)",function(t){t.preventDefault(),o(this).toggleClass("active");t=o(this).find(".yith-plugin-fw__action-button--edit-action").data("target");o("#"+t).slideToggle()}),o(document).on("click",".yith-wcwl-save-settings",function(t){t.preventDefault(),o(this).closest("form").find(".wp-switch-editor.switch-html").trigger("click");t=o(this.closest(".email-settings")).attr("id"),t={action:"yith_wcwl_save_email_settings",params:o(this).closest("form").serialize(),email_key:t};o.ajax({type:"POST",data:t,url:ajaxurl,success:function(t){const e=o(".yith-wcwl-row.active");e.find(".email-settings").slideToggle(),e.toggleClass("active")}})}),o(document).on("change","#yith-wcwl-email-status",function(){var t={action:"yith_wcwl_save_mail_status",enabled:o(this).val(),email_key:o(this).closest(".yith-plugin-fw-onoff-container ").data("email_key")};o.ajax({type:"POST",data:t,url:ajaxurl,success:function(t){console.log("Email status updated")}})})});